# 開発・運用計画

近畿大学体育会ボクシング部 公式ウェブサイトの開発および公開手順のまとめです。

## 1. サイト構築とコンテンツ整備 (現状)
まずは公開できる状態までサイトの中身を作り込みます。

- [x] フロントエンドの実装
    - [x] 基本的なページ構成、デザインの実装 (完了)
- [ ] テキストの修正
    - [ ] AIが作成した仮の文章を削除し、適切な日本語の文章に差し替える。
- [ ] チームデータベースの完成
    - [ ] 部員名簿 (`members.csv`) を正確な情報に更新する。
    - [ ] コーチ名簿 (`coaches.csv`) を正確な情報に更新する。
    - [ ] 顔写真データを集める。
    - [ ] 画像ファイルの軽量化(WebP変換)と命名規則の統一を行う。
    - [ ] 必要な顔写真データを揃えて配置する。
- [ ] コードベースの健全化 (Technical)
    - [ ] 未使用なコンポーネントや画像の削除 (クリーンアップ)。
    - [ ] バグ修正等
    - [ ] `npm run build` および `npm run lint` がエラーなく通ることを確認する。

## 2. サーバー移行と本番公開
GitHub PagesからNext.jsに適した環境へ移行し、独自のドメインで公開します。

- [ ] Vercelへの移行
    - [ ] GitHubリポジトリをVercelに連携し、デプロイ環境を構築する。
    - [ ] `next.config.ts` の設定を見直し、Vercelの画像最適化機能などが使えるように調整する（`output: 'export'`の削除検討など）。
- [ ] DNS設定の変更 (XServer)
    - [ ] XServerで管理しているドメインのDNS設定を変更し、新サイト(Vercel)が表示されるようにする。
- [ ] SEO対策 (Search Engine Optimization)
    - [ ] メタデータ設定: 各ページの `title` と `description` を正しく設定する。
    - [ ] OGP設定: SNSでシェアされた際に表示される画像やタイトルを設定する。
    - [ ] `robots.txt` と `sitemap.xml` の作成: 検索エンジンにサイト構造を伝える。
    - [ ] ファビコン (favicon) とWebクリップアイコンの設定。
    - [ ] 404ページ (Not Found) の作成。

## 3. CMS導入とCloudflare移行計画
監督（非エンジニア）が自ら「名簿更新」や「ニュース発信」を行えるようにシステム化し、Cloudflare上の安価で高速な環境へ完全移行します。

### 3-1. 要件定義 (Requirements)
*   利用者: 監督および指名された部員（非技術者）。
*   必須機能:
    1.  部員名簿管理: 名前、役職、顔写真の追加・編集・削除がGUI（管理画面）からできること。
    2.  ニュース/ブログ管理: 試合結果や連絡事項を投稿できること。
    3.  画像管理: アップロードした写真が自動的に保存・公開されること。
*   採用技術:
    *   機能が統合されており、コストパフォーマンスに優れる Cloudflare D1 (DB) と R2 (Storage) を採用します。

### 3-2. 基本設計 (Basic Design)
-   インフラ構成:
    -   Hosting: Cloudflare Pages
    -   Database: Cloudflare D1 (SQLite) - メンバー情報、ニュース記事の保存。
    -   Storage: Cloudflare R2 - 顔写真、記事画像の保存。
-   データモデル案:
    -   `members`: ID, 名前, 役職, 学年, 画像URL, 表示順
    -   `news`: ID, タイトル, 本文, 公開日, 画像URL
-   アプリケーション構成:
    -   `/admin`: 認証付きの管理画面。データの書き込み・更新を行う。
    -   `/ (Public)`: 閲覧専用。D1/R2からデータを取得して表示する（ISR/SSRまたはクライアントサイド取得）。

### 3-3. 実装・移行タスク
- [ ] 環境構築
    - [ ] Cloudflareプロジェクトの作成、D1データベースとR2ストレージの作成・紐付け。
- [ ] 管理機能の開発 (CMS)
    - [ ] 画像アップローダー: R2へ画像を保存し、URLを取得する機能。
    - [ ] 名簿編集機能: D1上のメンバーデータを追加・更新・削除する画面。
    - [ ] ニュース投稿機能: タイトルと本文を入力し、記事として保存する画面。
- [ ] フロントエンド改修
    - [ ] 現在のCSV読み込みロジックを廃止し、D1からデータを取得するロジックへ変更。
    - [ ] ブログ/ニュース一覧・詳細ページの新規作成。
- [ ] 本番移行
    - [ ] VercelからCloudflare Pagesへデプロイ先を変更。
    - [ ] DNS設定を切り替え、完全移行。
